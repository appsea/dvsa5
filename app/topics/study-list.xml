<Page
        class="page"
        navigatingTo="onNavigatingTo"
        xmlns="http://schemas.nativescript.org/tns.xsd">

    <ActionBar class="action-bar">
        <!--
        Use the NavigationButton as a side-drawer button in Android
        because ActionItems are shown on the right side of the ActionBar
        -->
        <NavigationButton ios:visibility="collapsed" icon="res://menu" tap="onDrawerButtonTap"></NavigationButton>
        <!--
        Use the ActionItem for IOS with position set to left. Using the
        NavigationButton as a side-drawer button in iOS is not possible,
        because its function is to always navigate back in the application.
        -->
        <Label class="action-bar-title" text="Topics"/>
    </ActionBar>
    <StackLayout>
        <ListView id="topicList" class="list-group" separatorColor="transparent" items="{{ topicStatus }}"
                  itemTap="selectTopic" height="100%">
            <ListView.itemTemplate>
                <GridLayout columns="auto, *, auto" class="{{ selected? 'transactions-list-item-selected m-5': 'transactions-list-item m-5'}}">
                    <StackLayout col="0" height="50" width="50" class="badge mr-10">
                        <Label text="{{ icon }}" class="fa c-white"></Label>
                    </StackLayout>
                    <StackLayout col="1" verticalAlignment="center">
                        <Label text="{{name}}" class="{{ (+percentage>86) ? 'category-complete-heading': 'category-todo-heading' }}" textWrap="true" marginTop="10dpi" marginBottom="10dpi" tap="selectOption" onswipe="handleSwipe"/>
                        <Label class="category-stats">
                            <label.formattedText>
                                <formattedString>
                                    <formattedString.spans>
                                        <span text=" {{attempted}} "/>
                                        <span text=" of "/>
                                        <span text="{{ total }}"/>
                                        <span text=" topics studied, "/>
                                        <span text=" {{ percentage }} "/>
                                        <span text="%"/>
                                    </formattedString.spans>
                                </formattedString>
                            </label.formattedText>
                        </Label>
                    </StackLayout>
                    <Label col="2" text="&#xf058;" class="fa icon-selected" visibility="{{ selected ? 'visible' : 'collapsed' }}"/>
                </GridLayout>
            </ListView.itemTemplate>
        </ListView>
    </StackLayout>
</Page>